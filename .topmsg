From: Andrey Borzenkov <arvidjaar@gmail.com>
Subject: [PATCH] fix printing of $prefix and embedded config in grub 2.00

Several related changes in grub2_info:

- bug fix: $partition was computed for versions < 2.00 only. Do not
  print bogus partition number if it is not defined.

- enhancement: grub-install can create valid core.img that has both
  $prefix and embedded config. And it is always possible to define
  them manually. Because $prefix is set before config is evaluated
  it provides important information to interpret embedded config and
  should be shown always if available.

- enhancement: check that $prefix is defined. It is optional in case
  of grub 2.00.

In grub 2.00 just print raw value of $prefix. If drive (and partition)
is omitted, grub is using platform specific functions to fill them in.
Instead of trying to guess, just let user to collect correct information
which can then help to abalyze boot configuration.

Signed-off-by: Andrey Borzenkov <arvidjaar@gmail.com>
